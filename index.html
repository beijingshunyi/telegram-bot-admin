<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram机器人管理后台</title>
    <!-- 引入Tailwind CSS（开发环境用，生产环境可替换） -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 引入Font Awesome图标 -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <!-- 引入自定义样式（修正路径：直接引用根目录的styles.css） -->
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 min-h-screen">
    <!-- 登录界面（未登录时显示） -->
    <div id="login-page" class="flex items-center justify-center min-h-screen p-4">
        <div class="w-full max-w-md bg-white rounded-lg shadow-md p-8">
            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">管理员登录</h2>
            <div class="mb-4">
                <label for="admin-key" class="block text-gray-700 mb-2">管理员密钥</label>
                <input type="password" id="admin-key" 
                    class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                    placeholder="输入管理员密钥">
            </div>
            <button id="login-btn" 
                class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors">
                登录
            </button>
            <p id="login-error" class="text-red-500 text-center mt-4 hidden">密钥错误，请重试</p>
        </div>
    </div>

    <!-- 管理后台主界面（登录后显示） -->
    <div id="admin-panel" class="hidden">
        <!-- 顶部导航 -->
        <nav class="bg-blue-600 text-white p-4">
            <div class="container mx-auto flex justify-between items-center">
                <h1 class="text-xl font-bold">Telegram机器人管理后台</h1>
                <button id="logout-btn" class="flex items-center hover:text-gray-200">
                    <i class="fa fa-sign-out mr-2"></i> 退出登录
                </button>
            </div>
        </nav>

        <!-- 主要内容区 -->
        <div class="container mx-auto p-4 flex">
            <!-- 侧边栏 -->
            <aside class="w-64 bg-white rounded-lg shadow-md p-4 mr-4">
                <ul class="space-y-2">
                    <li>
                        <button class="menu-item w-full text-left px-4 py-2 rounded-md hover:bg-gray-100 active" data-target="user-management">
                            <i class="fa fa-users mr-2"></i> 用户管理
                        </button>
                    </li>
                    <li>
                        <button class="menu-item w-full text-left px-4 py-2 rounded-md hover:bg-gray-100" data-target="teacher-management">
                            <i class="fa fa-graduation-cap mr-2"></i> 教师管理
                        </button>
                    </li>
                    <li>
                        <button class="menu-item w-full text-left px-4 py-2 rounded-md hover:bg-gray-100" data-target="keyword-management">
                            <i class="fa fa-key mr-2"></i> 关键词管理
                        </button>
                    </li>
                    <li>
                        <button class="menu-item w-full text-left px-4 py-2 rounded-md hover:bg-gray-100" data-target="banned-management">
                            <i class="fa fa-ban mr-2"></i> 封禁列表
                        </button>
                    </li>
                </ul>
            </aside>

            <!-- 内容区域 -->
            <main class="flex-1 bg-white rounded-lg shadow-md p-4">
                <!-- 用户管理页面 -->
                <div id="user-management" class="content-page">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fa fa-users mr-2"></i> 用户管理
                    </h2>
                    <div class="flex mb-4">
                        <input type="text" id="user-search" placeholder="搜索用户..." 
                            class="px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none flex-1">
                        <button id="search-user-btn" class="bg-blue-600 text-white px-4 py-2 rounded-r-md">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2 text-left">ID</th>
                                    <th class="px-4 py-2 text-left">用户名</th>
                                    <th class="px-4 py-2 text-left">注册时间</th>
                                    <th class="px-4 py-2 text-left">状态</th>
                                    <th class="px-4 py-2 text-left">操作</th>
                                </tr>
                            </thead>
                            <tbody id="user-list">
                                <!-- 用户数据会通过JS动态加载 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 教师管理页面 -->
                <div id="teacher-management" class="content-page hidden">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fa fa-graduation-cap mr-2"></i> 教师管理
                    </h2>
                    <button id="add-teacher-btn" class="bg-green-600 text-white px-4 py-2 rounded-md mb-4">
                        <i class="fa fa-plus mr-1"></i> 添加教师
                    </button>
                    <div class="overflow-x-auto">
                        <table class="min-w-full">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2 text-left">ID</th>
                                    <th class="px-4 py-2 text-left">教师名称</th>
                                    <th class="px-4 py-2 text-left">专业领域</th>
                                    <th class="px-4 py-2 text-left">操作</th>
                                </tr>
                            </thead>
                            <tbody id="teacher-list">
                                <!-- 教师数据会通过JS动态加载 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 关键词管理页面 -->
                <div id="keyword-management" class="content-page hidden">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fa fa-key mr-2"></i> 关键词管理
                    </h2>
                    <div class="flex mb-4">
                        <input type="text" id="new-keyword" placeholder="输入新关键词..." 
                            class="px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none flex-1">
                        <input type="text" id="keyword-response" placeholder="输入回复内容..." 
                            class="px-4 py-2 border-t border-b border-gray-300 focus:outline-none flex-1">
                        <button id="add-keyword-btn" class="bg-green-600 text-white px-4 py-2 rounded-r-md">
                            <i class="fa fa-plus mr-1"></i> 添加
                        </button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2 text-left">关键词</th>
                                    <th class="px-4 py-2 text-left">回复内容</th>
                                    <th class="px-4 py-2 text-left">操作</th>
                                </tr>
                            </thead>
                            <tbody id="keyword-list">
                                <!-- 关键词数据会通过JS动态加载 -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- 封禁列表页面 -->
                <div id="banned-management" class="content-page hidden">
                    <h2 class="text-xl font-bold mb-4 flex items-center">
                        <i class="fa fa-ban mr-2"></i> 封禁列表
                    </h2>
                    <div class="flex mb-4">
                        <input type="text" id="ban-user-id" placeholder="输入用户ID..." 
                            class="px-4 py-2 border border-gray-300 rounded-l-md focus:outline-none flex-1">
                        <button id="add-ban-btn" class="bg-red-600 text-white px-4 py-2 rounded-r-md">
                            <i class="fa fa-ban mr-1"></i> 封禁用户
                        </button>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="px-4 py-2 text-left">用户ID</th>
                                    <th class="px-4 py-2 text-left">封禁时间</th>
                                    <th class="px-4 py-2 text-left">操作</th>
                                </tr>
                            </thead>
                            <tbody id="banned-list">
                                <!-- 封禁数据会通过JS动态加载 -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 模态框（用于添加/编辑数据） -->
    <div id="modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
        <div class="bg-white rounded-lg p-6 w-full max-w-md">
            <h3 id="modal-title" class="text-xl font-bold mb-4">添加教师</h3>
            <div id="modal-content">
                <!-- 模态框内容会通过JS动态生成 -->
            </div>
            <div class="flex justify-end mt-4">
                <button id="modal-cancel" class="bg-gray-300 text-gray-800 px-4 py-2 rounded-md mr-2">取消</button>
                <button id="modal-save" class="bg-blue-600 text-white px-4 py-2 rounded-md">保存</button>
            </div>
        </div>
    </div>

    <!-- 引入JS文件（修正路径：直接引用根目录的文件） -->
    <script src="auth.js"></script>
    <script src="users.js"></script>
    <script src="teachers.js"></script>
    <script src="keywords.js"></script>
    <script src="banned.js"></script>
    <script src="api.js"></script>
    <script src="main.js"></script>
</body>
</html>

	<!DOCTYPE html>
	<html lang="zh-CN">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>Telegram北京修车超级机器人管理后台</title>
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	    <style>
	        /* 全局样式 */
	        * {
	            margin: 0;
	            padding: 0;
	            box-sizing: border-box;
	            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	        }
	        body {
	            background-color: #f5f7fa;
	            color: #333;
	        }
	        .container {
	            display: flex;
	            min-height: 100vh;
	        }
	        /* 侧边栏样式 */
	        .sidebar {
	            width: 250px;
	            background-color: #2c3e50;
	            color: #ecf0f1;
	            flex-shrink: 0;
	            transition: all 0.3s ease;
	        }
	        .sidebar-header {
	            padding: 20px;
	            border-bottom: 1px solid #34495e;
	        }
	        .sidebar-header h2 {
	            font-size: 20px;
	            text-align: center;
	        }
	        .nav-menu {
	            list-style: none;
	            padding: 20px 0;
	        }
	        .nav-item {
	            padding: 12px 20px;
	            border-bottom: 1px solid #34495e;
	        }
	        .nav-item a {
	            color: #ecf0f1;
	            text-decoration: none;
	            display: flex;
	            align-items: center;
	            transition: all 0.3s ease;
	        }
	        .nav-item i {
	            margin-right: 10px;
	            width: 20px;
	            text-align: center;
	        }
	        .nav-item:hover {
	            background-color: #34495e;
	        }
	        .nav-item.active {
	            background-color: #3498db;
	            border-left: 4px solid #2980b9;
	        }
	        .nav-item.logout {
	            margin-top: auto;
	            border-top: 1px solid #34495e;
	            border-bottom: none;
	        }
	        /* 主内容区样式 */
	        .main-content {
	            flex: 1;
	            display: flex;
	            flex-direction: column;
	        }
	        .header {
	            background-color: #fff;
	            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	            padding: 15px 30px;
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	        }
	        .header-title h1 {
	            font-size: 24px;
	            color: #2c3e50;
	        }
	        .user-info {
	            font-size: 16px;
	            color: #7f8c8d;
	        }
	        .content {
	            flex: 1;
	            padding: 30px;
	            overflow-y: auto;
	        }
	        /* 卡片样式 */
	        .card {
	            background-color: #fff;
	            border-radius: 8px;
	            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
	            padding: 25px;
	            margin-bottom: 20px;
	        }
	        .card-header {
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	            margin-bottom: 20px;
	            padding-bottom: 15px;
	            border-bottom: 1px solid #eee;
	        }
	        .card-title {
	            font-size: 20px;
	            font-weight: 600;
	            color: #2c3e50;
	        }
	        /* 按钮样式 */
	        .btn {
	            padding: 10px 15px;
	            border: none;
	            border-radius: 4px;
	            cursor: pointer;
	            font-size: 14px;
	            font-weight: 500;
	            transition: all 0.3s ease;
	            display: inline-flex;
	            align-items: center;
	        }
	        .btn i {
	            margin-right: 5px;
	        }
	        .btn-primary {
	            background-color: #3498db;
	            color: white;
	        }
	        .btn-primary:hover {
	            background-color: #2980b9;
	        }
	        .btn-success {
	            background-color: #2ecc71;
	            color: white;
	        }
	        .btn-success:hover {
	            background-color: #27ae60;
	        }
	        .btn-danger {
	            background-color: #e74c3c;
	            color: white;
	        }
	        .btn-danger:hover {
	            background-color: #c0392b;
	        }
	        .btn-warning {
	            background-color: #f39c12;
	            color: white;
	        }
	        .btn-warning:hover {
	            background-color: #d35400;
	        }
	        .btn-secondary {
	            background-color: #95a5a6;
	            color: white;
	        }
	        .btn-secondary:hover {
	            background-color: #7f8c8d;
	        }
	        .btn-sm {
	            padding: 5px 10px;
	            font-size: 12px;
	        }
	        /* 表格样式 */
	        .table-container {
	            overflow-x: auto;
	        }
	        table {
	            width: 100%;
	            border-collapse: collapse;
	        }
	        th, td {
	            padding: 12px 15px;
	            text-align: left;
	            border-bottom: 1px solid #eee;
	        }
	        th {
	            background-color: #f8f9fa;
	            font-weight: 600;
	            color: #2c3e50;
	        }
	        tr:hover {
	            background-color: #f8f9fa;
	        }
	        /* 表单样式 */
	        .form-group {
	            margin-bottom: 20px;
	        }
	        .form-group label {
	            display: block;
	            margin-bottom: 8px;
	            font-weight: 500;
	        }
	        .form-control {
	            width: 100%;
	            padding: 10px 15px;
	            border: 1px solid #ddd;
	            border-radius: 4px;
	            font-size: 14px;
	        }
	        .form-control:focus {
	            outline: none;
	            border-color: #3498db;
	            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
	        }
	        .form-actions {
	            display: flex;
	            justify-content: flex-end;
	            gap: 10px;
	        }
	        /* 模态框样式 */
	        .modal {
	            display: none;
	            position: fixed;
	            top: 0;
	            left: 0;
	            width: 100%;
	            height: 100%;
	            background-color: rgba(0, 0, 0, 0.5);
	            justify-content: center;
	            align-items: center;
	            z-index: 1000;
	        }
	        .modal-content {
	            background-color: #fff;
	            border-radius: 8px;
	            width: 90%;
	            max-width: 500px;
	            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
	        }
	        .modal-header {
	            padding: 20px;
	            border-bottom: 1px solid #eee;
	        }
	        .modal-header h2 {
	            font-size: 20px;
	            color: #2c3e50;
	        }
	        .modal-body {
	            padding: 20px;
	        }
	        /* 加载样式 */
	        .loading {
	            display: flex;
	            flex-direction: column;
	            justify-content: center;
	            align-items: center;
	            height: 200px;
	        }
	        .spinner {
	            width: 40px;
	            height: 40px;
	            border: 4px solid rgba(0, 0, 0, 0.1);
	            border-radius: 50%;
	            border-top-color: #3498db;
	            animation: spin 1s ease-in-out infinite;
	        }
	        @keyframes spin {
	            to { transform: rotate(360deg); }
	        }
	        /* 通知样式 */
	        .notification-container {
	            position: fixed;
	            top: 20px;
	            right: 20px;
	            z-index: 2000;
	        }
	        .notification {
	            background-color: #fff;
	            border-radius: 4px;
	            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
	            margin-bottom: 10px;
	            overflow: hidden;
	            animation: slideIn 0.3s ease-out;
	        }
	        .notification.fade-out {
	            animation: fadeOut 0.3s ease-out forwards;
	        }
	        @keyframes slideIn {
	            from {
	                transform: translateX(100%);
	                opacity: 0;
	            }
	            to {
	                transform: translateX(0);
	                opacity: 1;
	            }
	        }
	        @keyframes fadeOut {
	            from {
	                opacity: 1;
	            }
	            to {
	                opacity: 0;
	            }
	        }
	        .notification-content {
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	            padding: 15px 20px;
	        }
	        .notification-message {
	            flex: 1;
	        }
	        .notification-close {
	            background: none;
	            border: none;
	            font-size: 20px;
	            cursor: pointer;
	            color: #7f8c8d;
	            margin-left: 15px;
	        }
	        .notification-info {
	            border-left: 4px solid #3498db;
	        }
	        .notification-success {
	            border-left: 4px solid #2ecc71;
	        }
	        .notification-warning {
	            border-left: 4px solid #f39c12;
	        }
	        .notification-error {
	            border-left: 4px solid #e74c3c;
	        }
	        /* 统计卡片样式 */
	        .stats-grid {
	            display: grid;
	            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
	            gap: 20px;
	            margin-bottom: 30px;
	        }
	        .stat-card {
	            background-color: #fff;
	            border-radius: 8px;
	            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
	            padding: 20px;
	            display: flex;
	            align-items: center;
	        }
	        .stat-icon {
	            width: 60px;
	            height: 60px;
	            border-radius: 50%;
	            display: flex;
	            align-items: center;
	            justify-content: center;
	            margin-right: 20px;
	            font-size: 24px;
	            color: white;
	        }
	        .stat-card.users .stat-icon {
	            background-color: #3498db;
	        }
	        .stat-card.teachers .stat-icon {
	            background-color: #2ecc71;
	        }
	        .stat-card.keywords .stat-icon {
	            background-color: #f39c12;
	        }
	        .stat-card.banned .stat-icon {
	            background-color: #e74c3c;
	        }
	        .stat-info h3 {
	            font-size: 28px;
	            margin-bottom: 5px;
	            color: #2c3e50;
	        }
	        .stat-info p {
	            color: #7f8c8d;
	            font-size: 14px;
	        }
	        /* 操作按钮组 */
	        .action-buttons {
	            display: flex;
	            gap: 10px;
	        }
	        /* 状态样式 */
	        .status-item {
	            display: flex;
	            margin-bottom: 15px;
	        }
	        .status-label {
	            width: 150px;
	            font-weight: 500;
	        }
	        .status-value {
	            flex: 1;
	        }
	        .status-success {
	            color: #2ecc71;
	            font-weight: 500;
	        }
	        .status-error {
	            color: #e74c3c;
	            font-weight: 500;
	        }
	        /* 老师详情样式 */
	        .teacher-details {
	            display: flex;
	            flex-direction: column;
	            gap: 15px;
	        }
	        .detail-row {
	            display: flex;
	            align-items: flex-start;
	        }
	        .detail-label {
	            width: 120px;
	            font-weight: 500;
	        }
	        .detail-value {
	            flex: 1;
	        }
	        .teacher-photo {
	            max-width: 300px;
	            max-height: 300px;
	            border-radius: 4px;
	        }
	        .teacher-video {
	            max-width: 400px;
	            border-radius: 4px;
	        }
	        /* 状态徽章 */
	        .status-badge {
	            padding: 4px 8px;
	            border-radius: 4px;
	            font-size: 12px;
	            font-weight: 500;
	        }
	        .status-approved {
	            background-color: #d4edda;
	            color: #155724;
	        }
	        .status-pending {
	            background-color: #fff3cd;
	            color: #856404;
	        }
	        .status-active {
	            background-color: #d4edda;
	            color: #155724;
	        }
	        .status-inactive {
	            background-color: #f8d7da;
	            color: #721c24;
	        }
	        /* 错误样式 */
	        .error {
	            background-color: #f8d7da;
	            color: #721c24;
	            padding: 20px;
	            border-radius: 4px;
	            text-align: center;
	        }
	        .error h3 {
	            margin-bottom: 10px;
	        }
	        /* 快捷操作样式 */
	        .quick-actions {
	            display: flex;
	            gap: 15px;
	            flex-wrap: wrap;
	        }
	        /* 积分调整表单样式 */
	        .points-adjust-form {
	            display: flex;
	            align-items: center;
	            gap: 10px;
	        }
	        .points-input {
	            width: 100px;
	        }
	        /* 响应式设计 */
	        @media (max-width: 768px) {
	            .sidebar {
	                width: 70px;
	            }
	            .sidebar-header h2,
	            .nav-item span {
	                display: none;
	            }
	            .nav-item i {
	                margin: 0;
	                font-size: 18px;
	            }
	            .header {
	                padding: 10px 15px;
	            }
	            .content {
	                padding: 15px;
	            }
	            .stats-grid {
	                grid-template-columns: 1fr;
	            }
	            .table-container {
	                font-size: 14px;
	            }
	            th, td {
	                padding: 8px 10px;
	            }
	            .action-buttons {
	                flex-direction: column;
	            }
	        }
	    </style>
	</head>
	<body>
	    <div class="container">
	        <!-- 侧边栏 -->
	        <div class="sidebar">
	            <div class="sidebar-header">
	                <h2>管理后台</h2>
	            </div>
	            <ul class="nav-menu">
	                <li class="nav-item active" data-page="dashboard">
	                    <a href="#"><i class="fas fa-tachometer-alt"></i> 仪表盘</a>
	                </li>
	                <li class="nav-item" data-page="users">
	                    <a href="#"><i class="fas fa-users"></i> 用户管理</a>
	                </li>
	                <li class="nav-item" data-page="teachers">
	                    <a href="#"><i class="fas fa-user-tie"></i> 老师管理</a>
	                </li>
	                <li class="nav-item" data-page="keywords">
	                    <a href="#"><i class="fas fa-key"></i> 关键词管理</a>
	                </li>
	                <li class="nav-item" data-page="banned">
	                    <a href="#"><i class="fas fa-ban"></i> 禁言词管理</a>
	                </li>
	                <li class="nav-item logout">
	                    <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> 退出登录</a>
	                </li>
	            </ul>
	        </div>
	        <!-- 主内容区 -->
	        <div class="main-content">
	            <!-- 顶部栏 -->
	            <div class="header">
	                <div class="header-title">
	                    <h1 id="page-title">仪表盘</h1>
	                </div>
	                <div class="user-info">
	                    <span id="current-user">管理员</span>
	                </div>
	            </div>
	            <!-- 页面内容 -->
	            <div class="content" id="content">
	                <!-- 内容将通过JS动态加载 -->
	            </div>
	        </div>
	    </div>
	    <!-- 登录模态框 -->
	    <div class="modal" id="login-modal">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h2>管理员登录</h2>
	            </div>
	            <div class="modal-body">
	                <div class="form-group">
	                    <label for="admin-key">管理密钥</label>
	                    <input type="password" id="admin-key" class="form-control" placeholder="请输入管理密钥">
	                </div>
	                <div class="form-actions">
	                    <button id="login-btn" class="btn btn-primary">登录</button>
	                </div>
	            </div>
	        </div>
	    </div>
	    <!-- 加载提示 -->
	    <div class="loading" id="loading">
	        <div class="spinner"></div>
	        <p>加载中...</p>
	    </div>
	    <!-- 通知容器 -->
	    <div class="notification-container" id="notification-container"></div>
	    <script>
	        // API配置 - 直接写入提供的密钥和URL
	        const SUPABASE_URL = "https://tekuxjnnwtqmygibvwux.supabase.co";
	        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRla3V4am5ud3RxbXlnaWJ2d3V4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzNDUzNjAsImV4cCI6MjA3MDkyMTM2MH0.RGmuF44husXoJP8y4U1Gx7HqQJ6MsYZVl6_vHtG-KJY";
	        const WORKER_URL = "https://telegram-bot.jbk123jbk.workers.dev";
	        const ADMIN_API_KEY = "9712202273aA.";
	        // 通用API请求函数
	        async function apiRequest(endpoint, method = 'GET', data = null, headers = {}) {
	            const url = `${WORKER_URL}${endpoint}`;
	            const options = {
	                method,
	                headers: {
	                    'Content-Type': 'application/json',
	                    'Admin-Key': ADMIN_API_KEY,
	                    ...headers
	                }
	            };
	            if (data) {
	                options.body = JSON.stringify(data);
	            }
	            try {
	                const response = await fetch(url, options);
	                if (!response.ok) {
	                    const errorData = await response.json();
	                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
	                }
	                return await response.json();
	            } catch (error) {
	                console.error('API请求错误:', error);
	                throw error;
	            }
	        }
	        // 直接Supabase请求函数
	        async function supabaseRequest(table, method = 'GET', data = null, filter = '') {
	            let url = `${SUPABASE_URL}/rest/v1/${table}`;
	            if (filter) {
	                url += `?${filter}`;
	            }
	            const options = {
	                method,
	                headers: {
	                    'apikey': SUPABASE_KEY,
	                    'Authorization': `Bearer ${SUPABASE_KEY}`,
	                    'Content-Type': 'application/json'
	                }
	            };
	            if (data) {
	                options.body = JSON.stringify(data);
	            }
	            try {
	                const response = await fetch(url, options);
	                if (!response.ok) {
	                    const errorData = await response.json();
	                    throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
	                }
	                return await response.json();
	            } catch (error) {
	                console.error('Supabase请求错误:', error);
	                throw error;
	            }
	        }
	        // 获取所有记录
	        async function getAllRecords(table) {
	            return supabaseRequest(table);
	        }
	        // 获取单条记录
	        async function getRecord(table, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(table, 'GET', null, `${idColumn}=eq.${id}&limit=1`);
	        }
	        // 插入记录
	        async function insertRecord(table, data) {
	            return supabaseRequest(table, 'POST', data);
	        }
	        // 更新记录
	        async function updateRecord(table, data, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(`${table}?${idColumn}=eq.${id}`, 'PATCH', data);
	        }
	        // 删除记录
	        async function deleteRecord(table, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(`${table}?${idColumn}=eq.${id}`, 'DELETE');
	        }
	        // 执行管理员API操作
	        async function executeAdminAPI(action, table, data = null, filter = null) {
	            return apiRequest('/admin-api', 'POST', {
	                action,
	                table,
	                data,
	                filter
	            });
	        }
	        // 测试数据库连接
	        async function testDatabaseConnection() {
	            return apiRequest('/test-db');
	        }
	        // 发送随机老师
	        async function sendRandomTeacher() {
	            return apiRequest('/send-random-teacher');
	        }
	        // 登录函数
	        async function login() {
	            const adminKey = document.getElementById('admin-key').value;
	            if (!adminKey) {
	                showNotification('请输入管理密钥', 'error');
	                return;
	            }
	            // 验证密钥
	            if (adminKey === ADMIN_API_KEY) {
	                // 保存到本地存储
	                localStorage.setItem('adminApiKey', adminKey);
	                // 隐藏登录模态框
	                document.getElementById('login-modal').style.display = 'none';
	                // 加载仪表盘
	                navigateToPage('dashboard');
	                showNotification('登录成功', 'success');
	            } else {
	                showNotification('密钥错误，请重新输入', 'error');
	            }
	        }
	        // 退出登录函数
	        function logout() {
	            // 清除本地存储
	            localStorage.removeItem('adminApiKey');
	            // 显示登录模态框
	            document.getElementById('login-modal').style.display = 'flex';
	            // 清空内容
	            document.getElementById('content').innerHTML = '';
	            showNotification('已退出登录', 'info');
	        }
	        // 检查是否已登录
	        function isLoggedIn() {
	            return localStorage.getItem('adminApiKey') === ADMIN_API_KEY;
	        }
	        // 加载仪表盘
	        async function loadDashboard() {
	            const content = document.getElementById('content');
	            try {
	                // 测试数据库连接
	                const dbStatus = await testDatabaseConnection();
	                // 获取统计数据
	                const users = await getAllRecords('users');
	                const teachers = await getAllRecords('teachers');
	                const keywords = await getAllRecords('keywords');
	                const banned = await getAllRecords('banned_keywords');
	                // 渲染仪表盘
	                content.innerHTML = `
	                    <div class="stats-grid">
	                        <div class="stat-card users">
	                            <div class="stat-icon">
	                                <i class="fas fa-users"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${users.length}</h3>
	                                <p>用户总数</p>
	                            </div>
	                        </div>
	                        <div class="stat-card teachers">
	                            <div class="stat-icon">
	                                <i class="fas fa-user-tie"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${teachers.length}</h3>
	                                <p>老师总数</p>
	                            </div>
	                        </div>
	                        <div class="stat-card keywords">
	                            <div class="stat-icon">
	                                <i class="fas fa-key"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${keywords.length}</h3>
	                                <p>关键词总数</p>
	                            </div>
	                        </div>
	                        <div class="stat-card banned">
	                            <div class="stat-icon">
	                                <i class="fas fa-ban"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${banned.length}</h3>
	                                <p>禁言词总数</p>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">系统状态</h2>
	                        </div>
	                        <div class="card-body">
	                            <div class="status-item">
	                                <div class="status-label">数据库连接状态:</div>
	                                <div class="status-value ${dbStatus.status === 'success' ? 'status-success' : 'status-error'}">
	                                    ${dbStatus.status === 'success' ? '正常' : '异常'}
	                                </div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">用户数量:</div>
	                                <div class="status-value">${users.length}</div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">老师数量:</div>
	                                <div class="status-value">${teachers.length}</div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">待审核老师:</div>
	                                <div class="status-value">${teachers.filter(t => t.status === 'pending').length}</div>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">快捷操作</h2>
	                        </div>
	                        <div class="card-body">
	                            <div class="quick-actions">
	                                <button class="btn btn-primary" onclick="sendRandomTeacherAction()">
	                                    <i class="fas fa-paper-plane"></i> 发送随机老师
	                                </button>
	                                <button class="btn btn-success" onclick="sendRandomTeacherToGroups()">
	                                    <i class="fas fa-broadcast-tower"></i> 发送随机老师到群组
	                                </button>
	                                <button class="btn btn-warning" onclick="navigateToPage('users')">
	                                    <i class="fas fa-users"></i> 管理用户
	                                </button>
	                                <button class="btn btn-danger" onclick="navigateToPage('teachers')">
	                                    <i class="fas fa-user-tie"></i> 管理老师
	                                </button>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>加载失败</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadDashboard()">重试</button>
	                    </div>
	                `;
	            }
	        }
	        // 发送随机老师操作
	        async function sendRandomTeacherAction() {
	            try {
	                showNotification('正在发送随机老师...', 'info');
	                const result = await sendRandomTeacher();
	                showNotification('随机老师已发送', 'success');
	            } catch (error) {
	                showNotification(`发送失败: ${error.message}`, 'error');
	            }
	        }
	        // 发送随机老师到群组操作
	        async function sendRandomTeacherToGroups() {
	            try {
	                showNotification('正在发送随机老师到群组...', 'info');
	                // 获取已审核的老师
	                const teachers = await getAllRecords('teachers');
	                const approvedTeachers = teachers.filter(t => t.status === 'approved');
	                if (approvedTeachers.length === 0) {
	                    showNotification('没有已审核的老师可以发送', 'warning');
	                    return;
	                }
	                // 随机选择一个老师
	                const randomIndex = Math.floor(Math.random() * approvedTeachers.length);
	                const teacher = approvedTeachers[randomIndex];
	                // 调用API发送到群组
	                const result = await apiRequest('/send-random-teacher', 'GET');
	                showNotification('随机老师已发送到群组', 'success');
	            } catch (error) {
	                showNotification(`发送失败: ${error.message}`, 'error');
	            }
	        }
	        // 加载用户管理页面
	        async function loadUsers() {
	            const content = document.getElementById('content');
	            try {
	                // 获取用户数据
	                const users = await getAllRecords('users');
	                // 渲染用户管理页面
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">用户管理</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="refreshUsers()">
	                                    <i class="fas fa-sync-alt"></i> 刷新
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>用户名</th>
	                                            <th>显示名称</th>
	                                            <th>积分</th>
	                                            <th>最后签到</th>
	                                            <th>操作</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${users.map(user => `
	                                            <tr>
	                                                <td>${user.user_id}</td>
	                                                <td>${user.username || '-'}</td>
	                                                <td>${user.display_name || `${user.first_name || ''} ${user.last_name || ''}`.trim() || '-'}</td>
	                                                <td>${user.points || 0}</td>
	                                                <td>${user.last_sign_date || '-'}</td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-success btn-sm" onclick="showAdjustPointsForm(${user.user_id})">
	                                                            <i class="fas fa-plus"></i> 调整积分
	                                                        </button>
	                                                        <button class="btn btn-primary btn-sm" onclick="editUser(${user.user_id})">
	                                                            <i class="fas fa-edit"></i> 编辑
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>加载失败</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadUsers()">重试</button>
	                    </div>
	                `;
	            }
	        }
	        // 刷新用户列表
	        function refreshUsers() {
	            loadUsers();
	            showNotification('用户列表已刷新', 'info');
	        }
	        // 显示调整积分表单
	        function showAdjustPointsForm(userId) {
	            const content = document.getElementById('content');
	            content.innerHTML = `
	                <div class="card">
	                    <div class="card-header">
	                        <h2 class="card-title">调整用户积分</h2>
	                        <div class="action-buttons">
	                            <button class="btn btn-primary" onclick="adjustUserPoints(${userId})">
	                                <i class="fas fa-save"></i> 保存
	                            </button>
	                            <button class="btn btn-secondary" onclick="loadUsers()">
	                                <i class="fas fa-times"></i> 取消
	                            </button>
	                        </div>
	                    </div>
	                    <div class="card-body">
	                        <div class="form-group">
	                            <label for="points-value">积分变化值（正数为增加，负数为减少）</label>
	                            <input type="number" id="points-value" class="form-control" placeholder="请输入积分变化值">
	                        </div>
	                    </div>
	                </div>
	            `;
	        }
	        // 调整用户积分
	        async function adjustUserPoints(userId) {
	            try {
	                const pointsChange = parseInt(document.getElementById('points-value').value);
	                if (isNaN(pointsChange)) {
	                    showNotification('请输入有效的积分值', 'error');
	                    return;
	                }
	                const result = await executeAdminAPI('adjust_points', 'users', {
	                    user_id: userId,
	                    points_change: pointsChange
	                });
	                showNotification(`积分调整成功，新积分: ${result.new_points}`, 'success');
	                loadUsers();
	            } catch (error) {
	                showNotification(`调整失败: ${error.message}`, 'error');
	            }
	        }
	        // 编辑用户
	        async function editUser(userId) {
	            try {
	                // 获取用户详情
	                const user = await getRecord('users', userId);
	                // 创建编辑表单
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">编辑用户</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="saveUser(${userId})">
	                                    <i class="fas fa-save"></i> 保存
	                                </button>
	                                <button class="btn btn-secondary" onclick="loadUsers()">
	                                    <i class="fas fa-times"></i> 取消
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="form-group">
	                                <label for="user-username">用户名</label>
	                                <input type="text" id="user-username" class="form-control" value="${user.username || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-first-name">名字</label>
	                                <input type="text" id="user-first-name" class="form-control" value="${user.first_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-last-name">姓氏</label>
	                                <input type="text" id="user-last-name" class="form-control" value="${user.last_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-display-name">显示名称</label>
	                                <input type="text" id="user-display-name" class="form-control" value="${user.display_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-points">积分</label>
	                                <input type="number" id="user-points" class="form-control" value="${user.points || 0}">
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`获取用户信息失败: ${error.message}`, 'error');
	            }
	        }
	        // 保存用户
	        async function saveUser(userId) {
	            try {
	                const userData = {
	                    username: document.getElementById('user-username').value,
	                    first_name: document.getElementById('user-first-name').value,
	                    last_name: document.getElementById('user-last-name').value,
	                    display_name: document.getElementById('user-display-name').value,
	                    points: parseInt(document.getElementById('user-points').value) || 0
	                };
	                await updateRecord('users', userData, userId);
	                showNotification('用户信息已更新', 'success');
	                loadUsers();
	            } catch (error) {
	                showNotification(`保存失败: ${error.message}`, 'error');
	            }
	        }
	        // 加载老师管理页面
	        async function loadTeachers() {
	            const content = document.getElementById('content');
	            try {
	                // 获取老师数据
	                const teachers = await getAllRecords('teachers');
	                // 渲染老师管理页面
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">老师管理</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="refreshTeachers()">
	                                    <i class="fas fa-sync-alt"></i> 刷新
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>花名</th>
	                                            <th>年龄</th>
	                                            <th>地区</th>
	                                            <th>状态</th>
	                                            <th>操作</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${teachers.map(teacher => `
	                                            <tr>
	                                                <td>${teacher.id}</td>
	                                                <td>${teacher.nickname}</td>
	                                                <td>${teacher.age}</td>
	                                                <td>${teacher.region}</td>
	                                                <td>
	                                                    <span class="status-badge ${teacher.status === 'approved' ? 'status-approved' : 'status-pending'}">
	                                                        ${teacher.status === 'approved' ? '已审核' : '待审核'}
	                                                    </span>
	                                                </td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        ${teacher.status === 'pending' ? `
	                                                            <button class="btn btn-success btn-sm" onclick="approveTeacher(${teacher.id})">
	                                                                <i class="fas fa-check"></i> 审核
	                                                            </button>
	                                                        ` : ''}
	                                                        <button class="btn btn-primary btn-sm" onclick="viewTeacher(${teacher.id})">
	                                                            <i class="fas fa-eye"></i> 查看
	                                                        </button>
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteTeacher(${teacher.id})">
	                                                            <i class="fas fa-trash"></i> 删除
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>加载失败</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadTeachers()">重试</button>
	                    </div>
	                `;
	            }
	        }
	        // 刷新老师列表
	        function refreshTeachers() {
	            loadTeachers();
	            showNotification('老师列表已刷新', 'info');
	        }
	        // 审核老师
	        async function approveTeacher(teacherId) {
	            try {
	                await updateRecord('teachers', { status: 'approved' }, teacherId);
	                showNotification('老师已审核通过', 'success');
	                refreshTeachers();
	            } catch (error) {
	                showNotification(`审核失败: ${error.message}`, 'error');
	            }
	        }
	        // 查看老师详情
	        async function viewTeacher(teacherId) {
	            try {
	                // 获取老师详情
	                const teacher = await getRecord('teachers', teacherId);
	                // 创建详情视图
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">老师详情</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-secondary" onclick="loadTeachers()">
	                                    <i class="fas fa-arrow-left"></i> 返回
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="teacher-details">
	                                <div class="detail-row">
	                                    <div class="detail-label">花名:</div>
	                                    <div class="detail-value">${teacher.nickname}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">年龄:</div>
	                                    <div class="detail-value">${teacher.age}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">地区:</div>
	                                    <div class="detail-value">${teacher.region}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">Telegram账号:</div>
	                                    <div class="detail-value">${teacher.telegram_account}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">频道链接:</div>
	                                    <div class="detail-value">
	                                        <a href="${teacher.channel}" target="_blank">${teacher.channel}</a>
	                                    </div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">服务类型:</div>
	                                    <div class="detail-value">${teacher.service_type}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">修车费:</div>
	                                    <div class="detail-value">${teacher.repair_cost}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">自我介绍:</div>
	                                    <div class="detail-value">${teacher.intro}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">状态:</div>
	                                    <div class="detail-value">
	                                        <span class="status-badge ${teacher.status === 'approved' ? 'status-approved' : 'status-pending'}">
	                                            ${teacher.status === 'approved' ? '已审核' : '待审核'}
	                                        </span>
	                                    </div>
	                                </div>
	                                ${teacher.photo_url_1 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">照片1:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_1}" alt="照片1" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.photo_url_2 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">照片2:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_2}" alt="照片2" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.photo_url_3 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">照片3:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_3}" alt="照片3" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.video_url ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">视频:</div>
	                                        <div class="detail-value">
	                                            <video src="${teacher.video_url}" controls class="teacher-video"></video>
	                                        </div>
	                                    </div>
	                                ` : ''}
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`获取老师信息失败: ${error.message}`, 'error');
	            }
	        }
	        // 删除老师
	        async function deleteTeacher(teacherId) {
	            if (!confirm('确定要删除这个老师吗？此操作不可撤销。')) {
	                return;
	            }
	            try {
	                await deleteRecord('teachers', teacherId);
	                showNotification('老师已删除', 'success');
	                refreshTeachers();
	            } catch (error) {
	                showNotification(`删除失败: ${error.message}`, 'error');
	            }
	        }
	        // 加载关键词管理页面
	        async function loadKeywords() {
	            const content = document.getElementById('content');
	            try {
	                // 获取关键词数据
	                const keywords = await getAllRecords('keywords');
	                // 渲染关键词管理页面
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">关键词管理</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="showAddKeyword()">
	                                    <i class="fas fa-plus"></i> 添加关键词
	                                </button>
	                                <button class="btn btn-secondary" onclick="refreshKeywords()">
	                                    <i class="fas fa-sync-alt"></i> 刷新
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>关键词</th>
	                                            <th>回复内容</th>
	                                            <th>状态</th>
	                                            <th>操作</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${keywords.map(keyword => `
	                                            <tr>
	                                                <td>${keyword.id}</td>
	                                                <td>${keyword.keyword}</td>
	                                                <td>${keyword.response}</td>
	                                                <td>
	                                                    <span class="status-badge ${keyword.is_active ? 'status-active' : 'status-inactive'}">
	                                                        ${keyword.is_active ? '激活' : '禁用'}
	                                                    </span>
	                                                </td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-primary btn-sm" onclick="editKeyword(${keyword.id})">
	                                                            <i class="fas fa-edit"></i> 编辑
	                                                        </button>
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteKeyword(${keyword.id})">
	                                                            <i class="fas fa-trash"></i> 删除
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>加载失败</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadKeywords()">重试</button>
	                    </div>
	                `;
	            }
	        }
	        // 刷新关键词列表
	        function refreshKeywords() {
	            loadKeywords();
	            showNotification('关键词列表已刷新', 'info');
	        }
	        // 显示添加关键词表单
	        function showAddKeyword() {
	            const content = document.getElementById('content');
	            content.innerHTML = `
	                <div class="card">
	                    <div class="card-header">
	                        <h2 class="card-title">添加关键词</h2>
	                        <div class="action-buttons">
	                            <button class="btn btn-primary" onclick="addKeyword()">
	                                <i class="fas fa-save"></i> 保存
	                            </button>
	                            <button class="btn btn-secondary" onclick="loadKeywords()">
	                                <i class="fas fa-times"></i> 取消
	                            </button>
	                        </div>
	                    </div>
	                    <div class="card-body">
	                        <div class="form-group">
	                            <label for="keyword-text">关键词</label>
	                            <input type="text" id="keyword-text" class="form-control" placeholder="请输入关键词">
	                        </div>
	                        <div class="form-group">
	                            <label for="keyword-response">回复内容</label>
	                            <textarea id="keyword-response" class="form-control" rows="4" placeholder="请输入回复内容"></textarea>
	                        </div>
	                        <div class="form-group">
	                            <label>
	                                <input type="checkbox" id="keyword-active" checked> 激活状态
	                            </label>
	                        </div>
	                    </div>
	                </div>
	            `;
	        }
	        // 添加关键词
	        async function addKeyword() {
	            try {
	                const keywordData = {
	                    keyword: document.getElementById('keyword-text').value,
	                    response: document.getElementById('keyword-response').value,
	                    is_active: document.getElementById('keyword-active').checked
	                };
	                if (!keywordData.keyword || !keywordData.response) {
	                    showNotification('请填写完整信息', 'error');
	                    return;
	                }
	                await insertRecord('keywords', keywordData);
	                showNotification('关键词已添加', 'success');
	                loadKeywords();
	            } catch (error) {
	                showNotification(`添加失败: ${error.message}`, 'error');
	            }
	        }
	        // 编辑关键词
	        async function editKeyword(keywordId) {
	            try {
	                // 获取关键词详情
	                const keyword = await getRecord('keywords', keywordId);
	                // 创建编辑表单
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">编辑关键词</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="updateKeyword(${keywordId})">
	                                    <i class="fas fa-save"></i> 保存
	                                </button>
	                                <button class="btn btn-secondary" onclick="loadKeywords()">
	                                    <i class="fas fa-times"></i> 取消
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="form-group">
	                                <label for="keyword-text">关键词</label>
	                                <input type="text" id="keyword-text" class="form-control" value="${keyword.keyword}">
	                            </div>
	                            <div class="form-group">
	                                <label for="keyword-response">回复内容</label>
	                                <textarea id="keyword-response" class="form-control" rows="4">${keyword.response}</textarea>
	                            </div>
	                            <div class="form-group">
	                                <label>
	                                    <input type="checkbox" id="keyword-active" ${keyword.is_active ? 'checked' : ''}> 激活状态
	                                </label>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`获取关键词信息失败: ${error.message}`, 'error');
	            }
	        }
	        // 更新关键词
	        async function updateKeyword(keywordId) {
	            try {
	                const keywordData = {
	                    keyword: document.getElementById('keyword-text').value,
	                    response: document.getElementById('keyword-response').value,
	                    is_active: document.getElementById('keyword-active').checked
	                };
	                if (!keywordData.keyword || !keywordData.response) {
	                    showNotification('请填写完整信息', 'error');
	                    return;
	                }
	                await updateRecord('keywords', keywordData, keywordId);
	                showNotification('关键词已更新', 'success');
	                loadKeywords();
	            } catch (error) {
	                showNotification(`更新失败: ${error.message}`, 'error');
	            }
	        }
	        // 删除关键词
	        async function deleteKeyword(keywordId) {
	            if (!confirm('确定要删除这个关键词吗？此操作不可撤销。')) {
	                return;
	            }
	            try {
	                await deleteRecord('keywords', keywordId);
	                showNotification('关键词已删除', 'success');
	                refreshKeywords();
	            } catch (error) {
	                showNotification(`删除失败: ${error.message}`, 'error');
	            }
	        }
	        // 加载禁言词管理页面
	        async function loadBanned() {
	            const content = document.getElementById('content');
	            try {
	                // 获取禁言词数据
	                const bannedKeywords = await getAllRecords('banned_keywords');
	                // 渲染禁言词管理页面
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">禁言词管理</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="showAddBannedKeyword()">
	                                    <i class="fas fa-plus"></i> 添加禁言词
	                                </button>
	                                <button class="btn btn-secondary" onclick="refreshBanned()">
	                                    <i class="fas fa-sync-alt"></i> 刷新
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>禁言词</th>
	                                            <th>操作</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${bannedKeywords.map(keyword => `
	                                            <tr>
	                                                <td>${keyword.id}</td>
	                                                <td>${keyword.keyword}</td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteBannedKeyword(${keyword.id})">
	                                                            <i class="fas fa-trash"></i> 删除
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>加载失败</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadBanned()">重试</button>
	                    </div>
	                `;
	            }
	        }
	        // 刷新禁言词列表
	        function refreshBanned() {
	            loadBanned();
	            showNotification('禁言词列表已刷新', 'info');
	        }
	        // 显示添加禁言词表单
	        function showAddBannedKeyword() {
	            const content = document.getElementById('content');
	            content.innerHTML = `
	                <div class="card">
	                    <div class="card-header">
	                        <h2 class="card-title">添加禁言词</h2>
	                        <div class="action-buttons">
	                            <button class="btn btn-primary" onclick="addBannedKeyword()">
	                                <i class="fas fa-save"></i> 保存
	                            </button>
	                            <button class="btn btn-secondary" onclick="loadBanned()">
	                                <i class="fas fa-times"></i> 取消
	                            </button>
	                        </div>
	                    </div>
	                    <div class="card-body">
	                        <div class="form-group">
	                            <label for="banned-keyword">禁言词</label>
	                            <input type="text" id="banned-keyword" class="form-control" placeholder="请输入禁言词">
	                        </div>
	                    </div>
	                </div>
	            `;
	        }
	        // 添加禁言词
	        async function addBannedKeyword() {
	            try {
	                const keyword = document.getElementById('banned-keyword').value;
	                if (!keyword) {
	                    showNotification('请输入禁言词', 'error');
	                    return;
	                }
	                await insertRecord('banned_keywords', { keyword });
	                showNotification('禁言词已添加', 'success');
	                loadBanned();
	            } catch (error) {
	                showNotification(`添加失败: ${error.message}`, 'error');
	            }
	        }
	        // 删除禁言词
	        async function deleteBannedKeyword(keywordId) {
	            if (!confirm('确定要删除这个禁言词吗？此操作不可撤销。')) {
	                return;
	            }
	            try {
	                await deleteRecord('banned_keywords', keywordId);
	                showNotification('禁言词已删除', 'success');
	                refreshBanned();
	            } catch (error) {
	                showNotification(`删除失败: ${error.message}`, 'error');
	            }
	        }
	        // 初始化应用
	        function initApp() {
	            // 检查是否已登录
	            const apiKey = localStorage.getItem('adminApiKey');
	            if (apiKey) {
	                // 隐藏登录模态框
	                document.getElementById('login-modal').style.display = 'none';
	                // 加载仪表盘
	                navigateToPage('dashboard');
	            } else {
	                // 显示登录模态框
	                document.getElementById('login-modal').style.display = 'flex';
	            }
	        }
	        // 导航到页面
	        function navigateToPage(page) {
	            // 更新活动菜单项
	            document.querySelectorAll('.nav-item').forEach(item => {
	                item.classList.remove('active');
	            });
	            document.querySelector(`.nav-item[data-page="${page}"]`).classList.add('active');
	            // 更新页面标题
	            const titles = {
	                'dashboard': '仪表盘',
	                'users': '用户管理',
	                'teachers': '老师管理',
	                'keywords': '关键词管理',
	                'banned': '禁言词管理'
	            };
	            document.getElementById('page-title').textContent = titles[page] || '未知页面';
	            // 加载页面内容
	            const content = document.getElementById('content');
	            content.innerHTML = '<div class="loading"><div class="spinner"></div><p>加载中...</p></div>';
	            // 根据页面加载相应内容
	            switch(page) {
	                case 'dashboard':
	                    loadDashboard();
	                    break;
	                case 'users':
	                    loadUsers();
	                    break;
	                case 'teachers':
	                    loadTeachers();
	                    break;
	                case 'keywords':
	                    loadKeywords();
	                    break;
	                case 'banned':
	                    loadBanned();
	                    break;
	                default:
	                    content.innerHTML = '<div class="error">页面不存在</div>';
	            }
	        }
	        // 显示通知
	        function showNotification(message, type = 'info') {
	            const container = document.getElementById('notification-container');
	            const notification = document.createElement('div');
	            notification.className = `notification notification-${type}`;
	            notification.innerHTML = `
	                <div class="notification-content">
	                    <div class="notification-message">${message}</div>
	                    <button class="notification-close">&times;</button>
	                </div>
	            `;
	            container.appendChild(notification);
	            // 关闭按钮事件
	            notification.querySelector('.notification-close').addEventListener('click', function() {
	                notification.classList.add('fade-out');
	                setTimeout(() => {
	                    container.removeChild(notification);
	                }, 300);
	            });
	            // 自动关闭
	            setTimeout(() => {
	                if (notification.parentNode) {
	                    notification.classList.add('fade-out');
	                    setTimeout(() => {
	                        if (notification.parentNode) {
	                            container.removeChild(notification);
	                        }
	                    }, 300);
	                }
	            }, 5000);
	        }
	        document.addEventListener('DOMContentLoaded', function() {
	            // 初始化应用
	            initApp();
	            // 导航菜单点击事件
	            document.querySelectorAll('.nav-item').forEach(item => {
	                item.addEventListener('click', function(e) {
	                    e.preventDefault();
	                    const page = this.getAttribute('data-page');
	                    if (page) {
	                        navigateToPage(page);
	                    }
	                });
	            });
	            // 登录按钮点击事件
	            document.getElementById('login-btn').addEventListener('click', login);
	            // 退出登录按钮点击事件
	            document.getElementById('logout-btn').addEventListener('click', logout);
	        });
	    </script>
	</body>
	</html>

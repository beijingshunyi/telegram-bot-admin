	<!DOCTYPE html>
	<html lang="zh-CN">
	<head>
	    <meta charset="UTF-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	    <title>TelegramåŒ—äº¬ä¿®è½¦è¶…çº§æœºå™¨äººç®¡ç†åå°</title>
	    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
	    <style>
	        /* å…¨å±€æ ·å¼ */
	        * {
	            margin: 0;
	            padding: 0;
	            box-sizing: border-box;
	            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	        }
	        body {
	            background-color: #f5f7fa;
	            color: #333;
	        }
	        .container {
	            display: flex;
	            min-height: 100vh;
	        }
	        /* ä¾§è¾¹æ æ ·å¼ */
	        .sidebar {
	            width: 250px;
	            background-color: #2c3e50;
	            color: #ecf0f1;
	            flex-shrink: 0;
	            transition: all 0.3s ease;
	        }
	        .sidebar-header {
	            padding: 20px;
	            border-bottom: 1px solid #34495e;
	        }
	        .sidebar-header h2 {
	            font-size: 20px;
	            text-align: center;
	        }
	        .nav-menu {
	            list-style: none;
	            padding: 20px 0;
	        }
	        .nav-item {
	            padding: 12px 20px;
	            border-bottom: 1px solid #34495e;
	        }
	        .nav-item a {
	            color: #ecf0f1;
	            text-decoration: none;
	            display: flex;
	            align-items: center;
	            transition: all 0.3s ease;
	        }
	        .nav-item i {
	            margin-right: 10px;
	            width: 20px;
	            text-align: center;
	        }
	        .nav-item:hover {
	            background-color: #34495e;
	        }
	        .nav-item.active {
	            background-color: #3498db;
	            border-left: 4px solid #2980b9;
	        }
	        .nav-item.logout {
	            margin-top: auto;
	            border-top: 1px solid #34495e;
	            border-bottom: none;
	        }
	        /* ä¸»å†…å®¹åŒºæ ·å¼ */
	        .main-content {
	            flex: 1;
	            display: flex;
	            flex-direction: column;
	        }
	        .header {
	            background-color: #fff;
	            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
	            padding: 15px 30px;
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	        }
	        .header-title h1 {
	            font-size: 24px;
	            color: #2c3e50;
	        }
	        .user-info {
	            font-size: 16px;
	            color: #7f8c8d;
	        }
	        .content {
	            flex: 1;
	            padding: 30px;
	            overflow-y: auto;
	        }
	        /* å¡ç‰‡æ ·å¼ */
	        .card {
	            background-color: #fff;
	            border-radius: 8px;
	            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
	            padding: 25px;
	            margin-bottom: 20px;
	        }
	        .card-header {
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	            margin-bottom: 20px;
	            padding-bottom: 15px;
	            border-bottom: 1px solid #eee;
	        }
	        .card-title {
	            font-size: 20px;
	            font-weight: 600;
	            color: #2c3e50;
	        }
	        /* æŒ‰é’®æ ·å¼ */
	        .btn {
	            padding: 10px 15px;
	            border: none;
	            border-radius: 4px;
	            cursor: pointer;
	            font-size: 14px;
	            font-weight: 500;
	            transition: all 0.3s ease;
	            display: inline-flex;
	            align-items: center;
	        }
	        .btn i {
	            margin-right: 5px;
	        }
	        .btn-primary {
	            background-color: #3498db;
	            color: white;
	        }
	        .btn-primary:hover {
	            background-color: #2980b9;
	        }
	        .btn-success {
	            background-color: #2ecc71;
	            color: white;
	        }
	        .btn-success:hover {
	            background-color: #27ae60;
	        }
	        .btn-danger {
	            background-color: #e74c3c;
	            color: white;
	        }
	        .btn-danger:hover {
	            background-color: #c0392b;
	        }
	        .btn-warning {
	            background-color: #f39c12;
	            color: white;
	        }
	        .btn-warning:hover {
	            background-color: #d35400;
	        }
	        .btn-secondary {
	            background-color: #95a5a6;
	            color: white;
	        }
	        .btn-secondary:hover {
	            background-color: #7f8c8d;
	        }
	        .btn-sm {
	            padding: 5px 10px;
	            font-size: 12px;
	        }
	        /* è¡¨æ ¼æ ·å¼ */
	        .table-container {
	            overflow-x: auto;
	        }
	        table {
	            width: 100%;
	            border-collapse: collapse;
	        }
	        th, td {
	            padding: 12px 15px;
	            text-align: left;
	            border-bottom: 1px solid #eee;
	        }
	        th {
	            background-color: #f8f9fa;
	            font-weight: 600;
	            color: #2c3e50;
	        }
	        tr:hover {
	            background-color: #f8f9fa;
	        }
	        /* è¡¨å•æ ·å¼ */
	        .form-group {
	            margin-bottom: 20px;
	        }
	        .form-group label {
	            display: block;
	            margin-bottom: 8px;
	            font-weight: 500;
	        }
	        .form-control {
	            width: 100%;
	            padding: 10px 15px;
	            border: 1px solid #ddd;
	            border-radius: 4px;
	            font-size: 14px;
	        }
	        .form-control:focus {
	            outline: none;
	            border-color: #3498db;
	            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
	        }
	        .form-actions {
	            display: flex;
	            justify-content: flex-end;
	            gap: 10px;
	        }
	        /* æ¨¡æ€æ¡†æ ·å¼ */
	        .modal {
	            display: none;
	            position: fixed;
	            top: 0;
	            left: 0;
	            width: 100%;
	            height: 100%;
	            background-color: rgba(0, 0, 0, 0.5);
	            justify-content: center;
	            align-items: center;
	            z-index: 1000;
	        }
	        .modal-content {
	            background-color: #fff;
	            border-radius: 8px;
	            width: 90%;
	            max-width: 500px;
	            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
	        }
	        .modal-header {
	            padding: 20px;
	            border-bottom: 1px solid #eee;
	        }
	        .modal-header h2 {
	            font-size: 20px;
	            color: #2c3e50;
	        }
	        .modal-body {
	            padding: 20px;
	        }
	        /* åŠ è½½æ ·å¼ */
	        .loading {
	            display: flex;
	            flex-direction: column;
	            justify-content: center;
	            align-items: center;
	            height: 200px;
	        }
	        .spinner {
	            width: 40px;
	            height: 40px;
	            border: 4px solid rgba(0, 0, 0, 0.1);
	            border-radius: 50%;
	            border-top-color: #3498db;
	            animation: spin 1s ease-in-out infinite;
	        }
	        @keyframes spin {
	            to { transform: rotate(360deg); }
	        }
	        /* é€šçŸ¥æ ·å¼ */
	        .notification-container {
	            position: fixed;
	            top: 20px;
	            right: 20px;
	            z-index: 2000;
	        }
	        .notification {
	            background-color: #fff;
	            border-radius: 4px;
	            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
	            margin-bottom: 10px;
	            overflow: hidden;
	            animation: slideIn 0.3s ease-out;
	        }
	        .notification.fade-out {
	            animation: fadeOut 0.3s ease-out forwards;
	        }
	        @keyframes slideIn {
	            from {
	                transform: translateX(100%);
	                opacity: 0;
	            }
	            to {
	                transform: translateX(0);
	                opacity: 1;
	            }
	        }
	        @keyframes fadeOut {
	            from {
	                opacity: 1;
	            }
	            to {
	                opacity: 0;
	            }
	        }
	        .notification-content {
	            display: flex;
	            justify-content: space-between;
	            align-items: center;
	            padding: 15px 20px;
	        }
	        .notification-message {
	            flex: 1;
	        }
	        .notification-close {
	            background: none;
	            border: none;
	            font-size: 20px;
	            cursor: pointer;
	            color: #7f8c8d;
	            margin-left: 15px;
	        }
	        .notification-info {
	            border-left: 4px solid #3498db;
	        }
	        .notification-success {
	            border-left: 4px solid #2ecc71;
	        }
	        .notification-warning {
	            border-left: 4px solid #f39c12;
	        }
	        .notification-error {
	            border-left: 4px solid #e74c3c;
	        }
	        /* ç»Ÿè®¡å¡ç‰‡æ ·å¼ */
	        .stats-grid {
	            display: grid;
	            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
	            gap: 20px;
	            margin-bottom: 30px;
	        }
	        .stat-card {
	            background-color: #fff;
	            border-radius: 8px;
	            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
	            padding: 20px;
	            display: flex;
	            align-items: center;
	        }
	        .stat-icon {
	            width: 60px;
	            height: 60px;
	            border-radius: 50%;
	            display: flex;
	            align-items: center;
	            justify-content: center;
	            margin-right: 20px;
	            font-size: 24px;
	            color: white;
	        }
	        .stat-card.users .stat-icon {
	            background-color: #3498db;
	        }
	        .stat-card.teachers .stat-icon {
	            background-color: #2ecc71;
	        }
	        .stat-card.keywords .stat-icon {
	            background-color: #f39c12;
	        }
	        .stat-card.banned .stat-icon {
	            background-color: #e74c3c;
	        }
	        .stat-info h3 {
	            font-size: 28px;
	            margin-bottom: 5px;
	            color: #2c3e50;
	        }
	        .stat-info p {
	            color: #7f8c8d;
	            font-size: 14px;
	        }
	        /* æ“ä½œæŒ‰é’®ç»„ */
	        .action-buttons {
	            display: flex;
	            gap: 10px;
	        }
	        /* çŠ¶æ€æ ·å¼ */
	        .status-item {
	            display: flex;
	            margin-bottom: 15px;
	        }
	        .status-label {
	            width: 150px;
	            font-weight: 500;
	        }
	        .status-value {
	            flex: 1;
	        }
	        .status-success {
	            color: #2ecc71;
	            font-weight: 500;
	        }
	        .status-error {
	            color: #e74c3c;
	            font-weight: 500;
	        }
	        /* è€å¸ˆè¯¦æƒ…æ ·å¼ */
	        .teacher-details {
	            display: flex;
	            flex-direction: column;
	            gap: 15px;
	        }
	        .detail-row {
	            display: flex;
	            align-items: flex-start;
	        }
	        .detail-label {
	            width: 120px;
	            font-weight: 500;
	        }
	        .detail-value {
	            flex: 1;
	        }
	        .teacher-photo {
	            max-width: 300px;
	            max-height: 300px;
	            border-radius: 4px;
	        }
	        .teacher-video {
	            max-width: 400px;
	            border-radius: 4px;
	        }
	        /* çŠ¶æ€å¾½ç«  */
	        .status-badge {
	            padding: 4px 8px;
	            border-radius: 4px;
	            font-size: 12px;
	            font-weight: 500;
	        }
	        .status-approved {
	            background-color: #d4edda;
	            color: #155724;
	        }
	        .status-pending {
	            background-color: #fff3cd;
	            color: #856404;
	        }
	        .status-active {
	            background-color: #d4edda;
	            color: #155724;
	        }
	        .status-inactive {
	            background-color: #f8d7da;
	            color: #721c24;
	        }
	        /* é”™è¯¯æ ·å¼ */
	        .error {
	            background-color: #f8d7da;
	            color: #721c24;
	            padding: 20px;
	            border-radius: 4px;
	            text-align: center;
	        }
	        .error h3 {
	            margin-bottom: 10px;
	        }
	        /* å¿«æ·æ“ä½œæ ·å¼ */
	        .quick-actions {
	            display: flex;
	            gap: 15px;
	            flex-wrap: wrap;
	        }
	        /* å“åº”å¼è®¾è®¡ */
	        @media (max-width: 768px) {
	            .sidebar {
	                width: 70px;
	            }
	            .sidebar-header h2,
	            .nav-item span {
	                display: none;
	            }
	            .nav-item i {
	                margin: 0;
	                font-size: 18px;
	            }
	            .header {
	                padding: 10px 15px;
	            }
	            .content {
	                padding: 15px;
	            }
	            .stats-grid {
	                grid-template-columns: 1fr;
	            }
	            .table-container {
	                font-size: 14px;
	            }
	            th, td {
	                padding: 8px 10px;
	            }
	            .action-buttons {
	                flex-direction: column;
	            }
	        }
	    </style>
	</head>
	<body>
	    <div class="container">
	        <!-- ä¾§è¾¹æ  -->
	        <div class="sidebar">
	            <div class="sidebar-header">
	                <h2>ç®¡ç†åå°</h2>
	            </div>
	            <ul class="nav-menu">
	                <li class="nav-item active" data-page="dashboard">
	                    <a href="#"><i class="fas fa-tachometer-alt"></i> ä»ªè¡¨ç›˜</a>
	                </li>
	                <li class="nav-item" data-page="users">
	                    <a href="#"><i class="fas fa-users"></i> ç”¨æˆ·ç®¡ç†</a>
	                </li>
	                <li class="nav-item" data-page="teachers">
	                    <a href="#"><i class="fas fa-user-tie"></i> è€å¸ˆç®¡ç†</a>
	                </li>
	                <li class="nav-item" data-page="keywords">
	                    <a href="#"><i class="fas fa-key"></i> å…³é”®è¯ç®¡ç†</a>
	                </li>
	                <li class="nav-item" data-page="banned">
	                    <a href="#"><i class="fas fa-ban"></i> ç¦è¨€è¯ç®¡ç†</a>
	                </li>
	                <li class="nav-item logout">
	                    <a href="#" id="logout-btn"><i class="fas fa-sign-out-alt"></i> é€€å‡ºç™»å½•</a>
	                </li>
	            </ul>
	        </div>
	        <!-- ä¸»å†…å®¹åŒº -->
	        <div class="main-content">
	            <!-- é¡¶éƒ¨æ  -->
	            <div class="header">
	                <div class="header-title">
	                    <h1 id="page-title">ä»ªè¡¨ç›˜</h1>
	                </div>
	                <div class="user-info">
	                    <span id="current-user">ç®¡ç†å‘˜</span>
	                </div>
	            </div>
	            <!-- é¡µé¢å†…å®¹ -->
	            <div class="content" id="content">
	                <!-- å†…å®¹å°†é€šè¿‡JSåŠ¨æ€åŠ è½½ -->
	            </div>
	        </div>
	    </div>
	    <!-- ç™»å½•æ¨¡æ€æ¡† -->
	    <div class="modal" id="login-modal">
	        <div class="modal-content">
	            <div class="modal-header">
	                <h2>ç®¡ç†å‘˜ç™»å½•</h2>
	            </div>
	            <div class="modal-body">
	                <div class="form-group">
	                    <label for="admin-key">ç®¡ç†å¯†é’¥</label>
	                    <input type="password" id="admin-key" class="form-control" placeholder="è¯·è¾“å…¥ç®¡ç†å¯†é’¥">
	                </div>
	                <div class="form-actions">
	                    <button id="login-btn" class="btn btn-primary">ç™»å½•</button>
	                </div>
	            </div>
	        </div>
	    </div>
	    <!-- åŠ è½½æç¤º -->
	    <div class="loading" id="loading">
	        <div class="spinner"></div>
	        <p>åŠ è½½ä¸­...</p>
	    </div>
	    <!-- é€šçŸ¥å®¹å™¨ -->
	    <div class="notification-container" id="notification-container"></div>
	    <script>
	        // APIé…ç½® - ç›´æ¥å†™å…¥æä¾›çš„å¯†é’¥å’ŒURL
	        const SUPABASE_URL = "https://tekuxjnnwtqmygibvwux.supabase.co";
	        const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRla3V4am5ud3RxbXlnaWJ2d3V4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUzNDUzNjAsImV4cCI6MjA3MDkyMTM2MH0.RGmuF44husXoJP8y4U1Gx7HqQJ6MsYZVl6_vHtG-KJY";
	        const WORKER_URL = "https://telegram-bot.jbk123jbk.workers.dev";
	        const ADMIN_API_KEY = "9712202273aA.";
	        // é€šç”¨APIè¯·æ±‚å‡½æ•°
	        async function apiRequest(endpoint, method = 'GET', data = null, headers = {}) {
	            const url = `${WORKER_URL}${endpoint}`;
	            const options = {
	                method,
	                headers: {
	                    'Content-Type': 'application/json',
	                    'Admin-Key': ADMIN_API_KEY,
	                    ...headers
	                }
	            };
	            if (data) {
	                options.body = JSON.stringify(data);
	            }
	            try {
	                const response = await fetch(url, options);
	                if (!response.ok) {
	                    const errorData = await response.json();
	                    throw new Error(errorData.error || `HTTP error! status: ${response.status}`);
	                }
	                return await response.json();
	            } catch (error) {
	                console.error('APIè¯·æ±‚é”™è¯¯:', error);
	                throw error;
	            }
	        }
	        // ç›´æ¥Supabaseè¯·æ±‚å‡½æ•°
	        async function supabaseRequest(table, method = 'GET', data = null, filter = '') {
	            let url = `${SUPABASE_URL}/rest/v1/${table}`;
	            if (filter) {
	                url += `?${filter}`;
	            }
	            const options = {
	                method,
	                headers: {
	                    'apikey': SUPABASE_KEY,
	                    'Authorization': `Bearer ${SUPABASE_KEY}`,
	                    'Content-Type': 'application/json'
	                }
	            };
	            if (data) {
	                options.body = JSON.stringify(data);
	            }
	            try {
	                const response = await fetch(url, options);
	                if (!response.ok) {
	                    const errorData = await response.json();
	                    throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
	                }
	                return await response.json();
	            } catch (error) {
	                console.error('Supabaseè¯·æ±‚é”™è¯¯:', error);
	                throw error;
	            }
	        }
	        // è·å–æ‰€æœ‰è®°å½•
	        async function getAllRecords(table) {
	            return supabaseRequest(table);
	        }
	        // è·å–å•æ¡è®°å½•
	        async function getRecord(table, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(table, 'GET', null, `${idColumn}=eq.${id}&limit=1`);
	        }
	        // æ’å…¥è®°å½•
	        async function insertRecord(table, data) {
	            return supabaseRequest(table, 'POST', data);
	        }
	        // æ›´æ–°è®°å½•
	        async function updateRecord(table, data, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(`${table}?${idColumn}=eq.${id}`, 'PATCH', data);
	        }
	        // åˆ é™¤è®°å½•
	        async function deleteRecord(table, id) {
	            const idColumn = table === 'users' ? 'user_id' : 'id';
	            return supabaseRequest(`${table}?${idColumn}=eq.${id}`, 'DELETE');
	        }
	        // æ‰§è¡Œç®¡ç†å‘˜APIæ“ä½œ
	        async function executeAdminAPI(action, table, data = null, filter = null) {
	            return apiRequest('/admin-api', 'POST', {
	                action,
	                table,
	                data,
	                filter
	            });
	        }
	        // æµ‹è¯•æ•°æ®åº“è¿æ¥
	        async function testDatabaseConnection() {
	            return apiRequest('/test-db');
	        }
	        // å‘é€éšæœºè€å¸ˆ
	        async function sendRandomTeacher() {
	            return apiRequest('/send-random-teacher');
	        }
	        // ç™»å½•å‡½æ•°
	        async function login() {
	            const adminKey = document.getElementById('admin-key').value;
	            if (!adminKey) {
	                showNotification('è¯·è¾“å…¥ç®¡ç†å¯†é’¥', 'error');
	                return;
	            }
	            // éªŒè¯å¯†é’¥
	            if (adminKey === ADMIN_API_KEY) {
	                // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
	                localStorage.setItem('adminApiKey', adminKey);
	                // éšè—ç™»å½•æ¨¡æ€æ¡†
	                document.getElementById('login-modal').style.display = 'none';
	                // åŠ è½½ä»ªè¡¨ç›˜
	                navigateToPage('dashboard');
	                showNotification('ç™»å½•æˆåŠŸ', 'success');
	            } else {
	                showNotification('å¯†é’¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥', 'error');
	            }
	        }
	        // é€€å‡ºç™»å½•å‡½æ•°
	        function logout() {
	            // æ¸…é™¤æœ¬åœ°å­˜å‚¨
	            localStorage.removeItem('adminApiKey');
	            // æ˜¾ç¤ºç™»å½•æ¨¡æ€æ¡†
	            document.getElementById('login-modal').style.display = 'flex';
	            // æ¸…ç©ºå†…å®¹
	            document.getElementById('content').innerHTML = '';
	            showNotification('å·²é€€å‡ºç™»å½•', 'info');
	        }
	        // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
	        function isLoggedIn() {
	            return localStorage.getItem('adminApiKey') === ADMIN_API_KEY;
	        }
	        // åŠ è½½ä»ªè¡¨ç›˜
	        async function loadDashboard() {
	            const content = document.getElementById('content');
	            try {
	                // æµ‹è¯•æ•°æ®åº“è¿æ¥
	                const dbStatus = await testDatabaseConnection();
	                // è·å–ç»Ÿè®¡æ•°æ®
	                const users = await getAllRecords('users');
	                const teachers = await getAllRecords('teachers');
	                const keywords = await getAllRecords('keywords');
	                const banned = await getAllRecords('banned_keywords');
	                // æ¸²æŸ“ä»ªè¡¨ç›˜
	                content.innerHTML = `
	                    <div class="stats-grid">
	                        <div class="stat-card users">
	                            <div class="stat-icon">
	                                <i class="fas fa-users"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${users.length}</h3>
	                                <p>ç”¨æˆ·æ€»æ•°</p>
	                            </div>
	                        </div>
	                        <div class="stat-card teachers">
	                            <div class="stat-icon">
	                                <i class="fas fa-user-tie"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${teachers.length}</h3>
	                                <p>è€å¸ˆæ€»æ•°</p>
	                            </div>
	                        </div>
	                        <div class="stat-card keywords">
	                            <div class="stat-icon">
	                                <i class="fas fa-key"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${keywords.length}</h3>
	                                <p>å…³é”®è¯æ€»æ•°</p>
	                            </div>
	                        </div>
	                        <div class="stat-card banned">
	                            <div class="stat-icon">
	                                <i class="fas fa-ban"></i>
	                            </div>
	                            <div class="stat-info">
	                                <h3>${banned.length}</h3>
	                                <p>ç¦è¨€è¯æ€»æ•°</p>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">ç³»ç»ŸçŠ¶æ€</h2>
	                        </div>
	                        <div class="card-body">
	                            <div class="status-item">
	                                <div class="status-label">æ•°æ®åº“è¿æ¥çŠ¶æ€:</div>
	                                <div class="status-value ${dbStatus.status === 'success' ? 'status-success' : 'status-error'}">
	                                    ${dbStatus.status === 'success' ? 'æ­£å¸¸' : 'å¼‚å¸¸'}
	                                </div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">ç”¨æˆ·æ•°é‡:</div>
	                                <div class="status-value">${users.length}</div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">è€å¸ˆæ•°é‡:</div>
	                                <div class="status-value">${teachers.length}</div>
	                            </div>
	                            <div class="status-item">
	                                <div class="status-label">å¾…å®¡æ ¸è€å¸ˆ:</div>
	                                <div class="status-value">${teachers.filter(t => t.status === 'pending').length}</div>
	                            </div>
	                        </div>
	                    </div>
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">å¿«æ·æ“ä½œ</h2>
	                        </div>
	                        <div class="card-body">
	                            <div class="quick-actions">
	                                <button class="btn btn-primary" onclick="sendRandomTeacherAction()">
	                                    <i class="fas fa-paper-plane"></i> å‘é€éšæœºè€å¸ˆ
	                                </button>
	                                <button class="btn btn-success" onclick="sendRandomTeacherToGroups()">
	                                    <i class="fas fa-broadcast-tower"></i> å‘é€éšæœºè€å¸ˆåˆ°ç¾¤ç»„
	                                </button>
	                                <button class="btn btn-warning" onclick="navigateToPage('users')">
	                                    <i class="fas fa-users"></i> ç®¡ç†ç”¨æˆ·
	                                </button>
	                                <button class="btn btn-danger" onclick="navigateToPage('teachers')">
	                                    <i class="fas fa-user-tie"></i> ç®¡ç†è€å¸ˆ
	                                </button>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>åŠ è½½å¤±è´¥</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadDashboard()">é‡è¯•</button>
	                    </div>
	                `;
	            }
	        }
	        // å‘é€éšæœºè€å¸ˆæ“ä½œ
	        async function sendRandomTeacherAction() {
	            try {
	                showNotification('æ­£åœ¨å‘é€éšæœºè€å¸ˆ...', 'info');
	                const result = await sendRandomTeacher();
	                showNotification('éšæœºè€å¸ˆå·²å‘é€', 'success');
	            } catch (error) {
	                showNotification(`å‘é€å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // å‘é€éšæœºè€å¸ˆåˆ°ç¾¤ç»„æ“ä½œ
	        async function sendRandomTeacherToGroups() {
	            try {
	                showNotification('æ­£åœ¨å‘é€éšæœºè€å¸ˆåˆ°ç¾¤ç»„...', 'info');
	                // è·å–å·²å®¡æ ¸çš„è€å¸ˆ
	                const teachers = await getAllRecords('teachers');
	                const approvedTeachers = teachers.filter(t => t.status === 'approved');
	                if (approvedTeachers.length === 0) {
	                    showNotification('æ²¡æœ‰å·²å®¡æ ¸çš„è€å¸ˆå¯ä»¥å‘é€', 'warning');
	                    return;
	                }
	                // éšæœºé€‰æ‹©ä¸€ä¸ªè€å¸ˆ
	                const randomIndex = Math.floor(Math.random() * approvedTeachers.length);
	                const teacher = approvedTeachers[randomIndex];
	                // æ„å»ºå‘é€å†…å®¹
	                const caption = `ğŸŒŸ æ¯æ—¥æ¨èè€å¸ˆ ğŸŒŸ\n\n` +
	                    `èŠ±å: ${teacher.nickname}\n` +
	                    `å¹´é¾„: ${teacher.age}\n` +
	                    `åœ°åŒº: ${teacher.region}\n` +
	                    `æœåŠ¡ç±»å‹: ${teacher.service_type}\n` +
	                    `ä¿®è½¦è´¹: ${teacher.repair_cost}\n` +
	                    `è‡ªæˆ‘ä»‹ç»: ${teacher.intro}\n\n` +
	                    `è”ç³»è€å¸ˆ: ${teacher.telegram_account}`;
	                // è°ƒç”¨APIå‘é€åˆ°ç¾¤ç»„
	                const result = await apiRequest('/send-random-teacher', 'GET');
	                showNotification('éšæœºè€å¸ˆå·²å‘é€åˆ°ç¾¤ç»„', 'success');
	            } catch (error) {
	                showNotification(`å‘é€å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åŠ è½½ç”¨æˆ·ç®¡ç†é¡µé¢
	        async function loadUsers() {
	            const content = document.getElementById('content');
	            try {
	                // è·å–ç”¨æˆ·æ•°æ®
	                const users = await getAllRecords('users');
	                // æ¸²æŸ“ç”¨æˆ·ç®¡ç†é¡µé¢
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">ç”¨æˆ·ç®¡ç†</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="refreshUsers()">
	                                    <i class="fas fa-sync-alt"></i> åˆ·æ–°
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>ç”¨æˆ·å</th>
	                                            <th>æ˜¾ç¤ºåç§°</th>
	                                            <th>ç§¯åˆ†</th>
	                                            <th>æœ€åç­¾åˆ°</th>
	                                            <th>æ“ä½œ</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${users.map(user => `
	                                            <tr>
	                                                <td>${user.user_id}</td>
	                                                <td>${user.username || '-'}</td>
	                                                <td>${user.display_name || `${user.first_name || ''} ${user.last_name || ''}`.trim() || '-'}</td>
	                                                <td>${user.points || 0}</td>
	                                                <td>${user.last_sign_date || '-'}</td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-success btn-sm" onclick="adjustUserPoints(${user.user_id}, 10)">
	                                                            <i class="fas fa-plus"></i> +10
	                                                        </button>
	                                                        <button class="btn btn-warning btn-sm" onclick="adjustUserPoints(${user.user_id}, -10)">
	                                                            <i class="fas fa-minus"></i> -10
	                                                        </button>
	                                                        <button class="btn btn-primary btn-sm" onclick="editUser(${user.user_id})">
	                                                            <i class="fas fa-edit"></i> ç¼–è¾‘
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>åŠ è½½å¤±è´¥</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadUsers()">é‡è¯•</button>
	                    </div>
	                `;
	            }
	        }
	        // åˆ·æ–°ç”¨æˆ·åˆ—è¡¨
	        function refreshUsers() {
	            loadUsers();
	            showNotification('ç”¨æˆ·åˆ—è¡¨å·²åˆ·æ–°', 'info');
	        }
	        // è°ƒæ•´ç”¨æˆ·ç§¯åˆ†
	        async function adjustUserPoints(userId, pointsChange) {
	            try {
	                const result = await executeAdminAPI('adjust_points', 'users', {
	                    user_id: userId,
	                    points_change: pointsChange
	                });
	                showNotification(`ç§¯åˆ†è°ƒæ•´æˆåŠŸï¼Œæ–°ç§¯åˆ†: ${result.new_points}`, 'success');
	                refreshUsers();
	            } catch (error) {
	                showNotification(`è°ƒæ•´å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // ç¼–è¾‘ç”¨æˆ·
	        async function editUser(userId) {
	            try {
	                // è·å–ç”¨æˆ·è¯¦æƒ…
	                const user = await getRecord('users', userId);
	                // åˆ›å»ºç¼–è¾‘è¡¨å•
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">ç¼–è¾‘ç”¨æˆ·</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="saveUser(${userId})">
	                                    <i class="fas fa-save"></i> ä¿å­˜
	                                </button>
	                                <button class="btn btn-secondary" onclick="loadUsers()">
	                                    <i class="fas fa-times"></i> å–æ¶ˆ
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="form-group">
	                                <label for="user-username">ç”¨æˆ·å</label>
	                                <input type="text" id="user-username" class="form-control" value="${user.username || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-first-name">åå­—</label>
	                                <input type="text" id="user-first-name" class="form-control" value="${user.first_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-last-name">å§“æ°</label>
	                                <input type="text" id="user-last-name" class="form-control" value="${user.last_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-display-name">æ˜¾ç¤ºåç§°</label>
	                                <input type="text" id="user-display-name" class="form-control" value="${user.display_name || ''}">
	                            </div>
	                            <div class="form-group">
	                                <label for="user-points">ç§¯åˆ†</label>
	                                <input type="number" id="user-points" class="form-control" value="${user.points || 0}">
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`è·å–ç”¨æˆ·ä¿¡æ¯å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // ä¿å­˜ç”¨æˆ·
	        async function saveUser(userId) {
	            try {
	                const userData = {
	                    username: document.getElementById('user-username').value,
	                    first_name: document.getElementById('user-first-name').value,
	                    last_name: document.getElementById('user-last-name').value,
	                    display_name: document.getElementById('user-display-name').value,
	                    points: parseInt(document.getElementById('user-points').value) || 0
	                };
	                await updateRecord('users', userData, userId);
	                showNotification('ç”¨æˆ·ä¿¡æ¯å·²æ›´æ–°', 'success');
	                loadUsers();
	            } catch (error) {
	                showNotification(`ä¿å­˜å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åŠ è½½è€å¸ˆç®¡ç†é¡µé¢
	        async function loadTeachers() {
	            const content = document.getElementById('content');
	            try {
	                // è·å–è€å¸ˆæ•°æ®
	                const teachers = await getAllRecords('teachers');
	                // æ¸²æŸ“è€å¸ˆç®¡ç†é¡µé¢
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">è€å¸ˆç®¡ç†</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="refreshTeachers()">
	                                    <i class="fas fa-sync-alt"></i> åˆ·æ–°
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>èŠ±å</th>
	                                            <th>å¹´é¾„</th>
	                                            <th>åœ°åŒº</th>
	                                            <th>çŠ¶æ€</th>
	                                            <th>æ“ä½œ</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${teachers.map(teacher => `
	                                            <tr>
	                                                <td>${teacher.id}</td>
	                                                <td>${teacher.nickname}</td>
	                                                <td>${teacher.age}</td>
	                                                <td>${teacher.region}</td>
	                                                <td>
	                                                    <span class="status-badge ${teacher.status === 'approved' ? 'status-approved' : 'status-pending'}">
	                                                        ${teacher.status === 'approved' ? 'å·²å®¡æ ¸' : 'å¾…å®¡æ ¸'}
	                                                    </span>
	                                                </td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        ${teacher.status === 'pending' ? `
	                                                            <button class="btn btn-success btn-sm" onclick="approveTeacher(${teacher.id})">
	                                                                <i class="fas fa-check"></i> å®¡æ ¸
	                                                            </button>
	                                                        ` : ''}
	                                                        <button class="btn btn-primary btn-sm" onclick="viewTeacher(${teacher.id})">
	                                                            <i class="fas fa-eye"></i> æŸ¥çœ‹
	                                                        </button>
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteTeacher(${teacher.id})">
	                                                            <i class="fas fa-trash"></i> åˆ é™¤
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>åŠ è½½å¤±è´¥</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadTeachers()">é‡è¯•</button>
	                    </div>
	                `;
	            }
	        }
	        // åˆ·æ–°è€å¸ˆåˆ—è¡¨
	        function refreshTeachers() {
	            loadTeachers();
	            showNotification('è€å¸ˆåˆ—è¡¨å·²åˆ·æ–°', 'info');
	        }
	        // å®¡æ ¸è€å¸ˆ
	        async function approveTeacher(teacherId) {
	            try {
	                await updateRecord('teachers', { status: 'approved' }, teacherId);
	                showNotification('è€å¸ˆå·²å®¡æ ¸é€šè¿‡', 'success');
	                refreshTeachers();
	            } catch (error) {
	                showNotification(`å®¡æ ¸å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // æŸ¥çœ‹è€å¸ˆè¯¦æƒ…
	        async function viewTeacher(teacherId) {
	            try {
	                // è·å–è€å¸ˆè¯¦æƒ…
	                const teacher = await getRecord('teachers', teacherId);
	                // åˆ›å»ºè¯¦æƒ…è§†å›¾
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">è€å¸ˆè¯¦æƒ…</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-secondary" onclick="loadTeachers()">
	                                    <i class="fas fa-arrow-left"></i> è¿”å›
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="teacher-details">
	                                <div class="detail-row">
	                                    <div class="detail-label">èŠ±å:</div>
	                                    <div class="detail-value">${teacher.nickname}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">å¹´é¾„:</div>
	                                    <div class="detail-value">${teacher.age}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">åœ°åŒº:</div>
	                                    <div class="detail-value">${teacher.region}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">Telegramè´¦å·:</div>
	                                    <div class="detail-value">${teacher.telegram_account}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">é¢‘é“é“¾æ¥:</div>
	                                    <div class="detail-value">
	                                        <a href="${teacher.channel}" target="_blank">${teacher.channel}</a>
	                                    </div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">æœåŠ¡ç±»å‹:</div>
	                                    <div class="detail-value">${teacher.service_type}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">ä¿®è½¦è´¹:</div>
	                                    <div class="detail-value">${teacher.repair_cost}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">è‡ªæˆ‘ä»‹ç»:</div>
	                                    <div class="detail-value">${teacher.intro}</div>
	                                </div>
	                                <div class="detail-row">
	                                    <div class="detail-label">çŠ¶æ€:</div>
	                                    <div class="detail-value">
	                                        <span class="status-badge ${teacher.status === 'approved' ? 'status-approved' : 'status-pending'}">
	                                            ${teacher.status === 'approved' ? 'å·²å®¡æ ¸' : 'å¾…å®¡æ ¸'}
	                                        </span>
	                                    </div>
	                                </div>
	                                ${teacher.photo_url_1 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">ç…§ç‰‡1:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_1}" alt="ç…§ç‰‡1" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.photo_url_2 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">ç…§ç‰‡2:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_2}" alt="ç…§ç‰‡2" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.photo_url_3 ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">ç…§ç‰‡3:</div>
	                                        <div class="detail-value">
	                                            <img src="${teacher.photo_url_3}" alt="ç…§ç‰‡3" class="teacher-photo">
	                                        </div>
	                                    </div>
	                                ` : ''}
	                                ${teacher.video_url ? `
	                                    <div class="detail-row">
	                                        <div class="detail-label">è§†é¢‘:</div>
	                                        <div class="detail-value">
	                                            <video src="${teacher.video_url}" controls class="teacher-video"></video>
	                                        </div>
	                                    </div>
	                                ` : ''}
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`è·å–è€å¸ˆä¿¡æ¯å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åˆ é™¤è€å¸ˆ
	        async function deleteTeacher(teacherId) {
	            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªè€å¸ˆå—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
	                return;
	            }
	            try {
	                await deleteRecord('teachers', teacherId);
	                showNotification('è€å¸ˆå·²åˆ é™¤', 'success');
	                refreshTeachers();
	            } catch (error) {
	                showNotification(`åˆ é™¤å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åŠ è½½å…³é”®è¯ç®¡ç†é¡µé¢
	        async function loadKeywords() {
	            const content = document.getElementById('content');
	            try {
	                // è·å–å…³é”®è¯æ•°æ®
	                const keywords = await getAllRecords('keywords');
	                // æ¸²æŸ“å…³é”®è¯ç®¡ç†é¡µé¢
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">å…³é”®è¯ç®¡ç†</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="showAddKeyword()">
	                                    <i class="fas fa-plus"></i> æ·»åŠ å…³é”®è¯
	                                </button>
	                                <button class="btn btn-secondary" onclick="refreshKeywords()">
	                                    <i class="fas fa-sync-alt"></i> åˆ·æ–°
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>å…³é”®è¯</th>
	                                            <th>å›å¤å†…å®¹</th>
	                                            <th>çŠ¶æ€</th>
	                                            <th>æ“ä½œ</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${keywords.map(keyword => `
	                                            <tr>
	                                                <td>${keyword.id}</td>
	                                                <td>${keyword.keyword}</td>
	                                                <td>${keyword.response}</td>
	                                                <td>
	                                                    <span class="status-badge ${keyword.is_active ? 'status-active' : 'status-inactive'}">
	                                                        ${keyword.is_active ? 'æ¿€æ´»' : 'ç¦ç”¨'}
	                                                    </span>
	                                                </td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-primary btn-sm" onclick="editKeyword(${keyword.id})">
	                                                            <i class="fas fa-edit"></i> ç¼–è¾‘
	                                                        </button>
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteKeyword(${keyword.id})">
	                                                            <i class="fas fa-trash"></i> åˆ é™¤
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>åŠ è½½å¤±è´¥</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadKeywords()">é‡è¯•</button>
	                    </div>
	                `;
	            }
	        }
	        // åˆ·æ–°å…³é”®è¯åˆ—è¡¨
	        function refreshKeywords() {
	            loadKeywords();
	            showNotification('å…³é”®è¯åˆ—è¡¨å·²åˆ·æ–°', 'info');
	        }
	        // æ˜¾ç¤ºæ·»åŠ å…³é”®è¯è¡¨å•
	        function showAddKeyword() {
	            const content = document.getElementById('content');
	            content.innerHTML = `
	                <div class="card">
	                    <div class="card-header">
	                        <h2 class="card-title">æ·»åŠ å…³é”®è¯</h2>
	                        <div class="action-buttons">
	                            <button class="btn btn-primary" onclick="addKeyword()">
	                                <i class="fas fa-save"></i> ä¿å­˜
	                            </button>
	                            <button class="btn btn-secondary" onclick="loadKeywords()">
	                                <i class="fas fa-times"></i> å–æ¶ˆ
	                            </button>
	                        </div>
	                    </div>
	                    <div class="card-body">
	                        <div class="form-group">
	                            <label for="keyword-text">å…³é”®è¯</label>
	                            <input type="text" id="keyword-text" class="form-control" placeholder="è¯·è¾“å…¥å…³é”®è¯">
	                        </div>
	                        <div class="form-group">
	                            <label for="keyword-response">å›å¤å†…å®¹</label>
	                            <textarea id="keyword-response" class="form-control" rows="4" placeholder="è¯·è¾“å…¥å›å¤å†…å®¹"></textarea>
	                        </div>
	                        <div class="form-group">
	                            <label>
	                                <input type="checkbox" id="keyword-active" checked> æ¿€æ´»çŠ¶æ€
	                            </label>
	                        </div>
	                    </div>
	                </div>
	            `;
	        }
	        // æ·»åŠ å…³é”®è¯
	        async function addKeyword() {
	            try {
	                const keywordData = {
	                    keyword: document.getElementById('keyword-text').value,
	                    response: document.getElementById('keyword-response').value,
	                    is_active: document.getElementById('keyword-active').checked
	                };
	                if (!keywordData.keyword || !keywordData.response) {
	                    showNotification('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'error');
	                    return;
	                }
	                await insertRecord('keywords', keywordData);
	                showNotification('å…³é”®è¯å·²æ·»åŠ ', 'success');
	                loadKeywords();
	            } catch (error) {
	                showNotification(`æ·»åŠ å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // ç¼–è¾‘å…³é”®è¯
	        async function editKeyword(keywordId) {
	            try {
	                // è·å–å…³é”®è¯è¯¦æƒ…
	                const keyword = await getRecord('keywords', keywordId);
	                // åˆ›å»ºç¼–è¾‘è¡¨å•
	                const content = document.getElementById('content');
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">ç¼–è¾‘å…³é”®è¯</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="updateKeyword(${keywordId})">
	                                    <i class="fas fa-save"></i> ä¿å­˜
	                                </button>
	                                <button class="btn btn-secondary" onclick="loadKeywords()">
	                                    <i class="fas fa-times"></i> å–æ¶ˆ
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="form-group">
	                                <label for="keyword-text">å…³é”®è¯</label>
	                                <input type="text" id="keyword-text" class="form-control" value="${keyword.keyword}">
	                            </div>
	                            <div class="form-group">
	                                <label for="keyword-response">å›å¤å†…å®¹</label>
	                                <textarea id="keyword-response" class="form-control" rows="4">${keyword.response}</textarea>
	                            </div>
	                            <div class="form-group">
	                                <label>
	                                    <input type="checkbox" id="keyword-active" ${keyword.is_active ? 'checked' : ''}> æ¿€æ´»çŠ¶æ€
	                                </label>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                showNotification(`è·å–å…³é”®è¯ä¿¡æ¯å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // æ›´æ–°å…³é”®è¯
	        async function updateKeyword(keywordId) {
	            try {
	                const keywordData = {
	                    keyword: document.getElementById('keyword-text').value,
	                    response: document.getElementById('keyword-response').value,
	                    is_active: document.getElementById('keyword-active').checked
	                };
	                if (!keywordData.keyword || !keywordData.response) {
	                    showNotification('è¯·å¡«å†™å®Œæ•´ä¿¡æ¯', 'error');
	                    return;
	                }
	                await updateRecord('keywords', keywordData, keywordId);
	                showNotification('å…³é”®è¯å·²æ›´æ–°', 'success');
	                loadKeywords();
	            } catch (error) {
	                showNotification(`æ›´æ–°å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åˆ é™¤å…³é”®è¯
	        async function deleteKeyword(keywordId) {
	            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªå…³é”®è¯å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
	                return;
	            }
	            try {
	                await deleteRecord('keywords', keywordId);
	                showNotification('å…³é”®è¯å·²åˆ é™¤', 'success');
	                refreshKeywords();
	            } catch (error) {
	                showNotification(`åˆ é™¤å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åŠ è½½ç¦è¨€è¯ç®¡ç†é¡µé¢
	        async function loadBanned() {
	            const content = document.getElementById('content');
	            try {
	                // è·å–ç¦è¨€è¯æ•°æ®
	                const bannedKeywords = await getAllRecords('banned_keywords');
	                // æ¸²æŸ“ç¦è¨€è¯ç®¡ç†é¡µé¢
	                content.innerHTML = `
	                    <div class="card">
	                        <div class="card-header">
	                            <h2 class="card-title">ç¦è¨€è¯ç®¡ç†</h2>
	                            <div class="action-buttons">
	                                <button class="btn btn-primary" onclick="showAddBannedKeyword()">
	                                    <i class="fas fa-plus"></i> æ·»åŠ ç¦è¨€è¯
	                                </button>
	                                <button class="btn btn-secondary" onclick="refreshBanned()">
	                                    <i class="fas fa-sync-alt"></i> åˆ·æ–°
	                                </button>
	                            </div>
	                        </div>
	                        <div class="card-body">
	                            <div class="table-container">
	                                <table>
	                                    <thead>
	                                        <tr>
	                                            <th>ID</th>
	                                            <th>ç¦è¨€è¯</th>
	                                            <th>æ“ä½œ</th>
	                                        </tr>
	                                    </thead>
	                                    <tbody>
	                                        ${bannedKeywords.map(keyword => `
	                                            <tr>
	                                                <td>${keyword.id}</td>
	                                                <td>${keyword.keyword}</td>
	                                                <td>
	                                                    <div class="action-buttons">
	                                                        <button class="btn btn-danger btn-sm" onclick="deleteBannedKeyword(${keyword.id})">
	                                                            <i class="fas fa-trash"></i> åˆ é™¤
	                                                        </button>
	                                                    </div>
	                                                </td>
	                                            </tr>
	                                        `).join('')}
	                                    </tbody>
	                                </table>
	                            </div>
	                        </div>
	                    </div>
	                `;
	            } catch (error) {
	                content.innerHTML = `
	                    <div class="error">
	                        <h3>åŠ è½½å¤±è´¥</h3>
	                        <p>${error.message}</p>
	                        <button class="btn btn-primary" onclick="loadBanned()">é‡è¯•</button>
	                    </div>
	                `;
	            }
	        }
	        // åˆ·æ–°ç¦è¨€è¯åˆ—è¡¨
	        function refreshBanned() {
	            loadBanned();
	            showNotification('ç¦è¨€è¯åˆ—è¡¨å·²åˆ·æ–°', 'info');
	        }
	        // æ˜¾ç¤ºæ·»åŠ ç¦è¨€è¯è¡¨å•
	        function showAddBannedKeyword() {
	            const content = document.getElementById('content');
	            content.innerHTML = `
	                <div class="card">
	                    <div class="card-header">
	                        <h2 class="card-title">æ·»åŠ ç¦è¨€è¯</h2>
	                        <div class="action-buttons">
	                            <button class="btn btn-primary" onclick="addBannedKeyword()">
	                                <i class="fas fa-save"></i> ä¿å­˜
	                            </button>
	                            <button class="btn btn-secondary" onclick="loadBanned()">
	                                <i class="fas fa-times"></i> å–æ¶ˆ
	                            </button>
	                        </div>
	                    </div>
	                    <div class="card-body">
	                        <div class="form-group">
	                            <label for="banned-keyword">ç¦è¨€è¯</label>
	                            <input type="text" id="banned-keyword" class="form-control" placeholder="è¯·è¾“å…¥ç¦è¨€è¯">
	                        </div>
	                    </div>
	                </div>
	            `;
	        }
	        // æ·»åŠ ç¦è¨€è¯
	        async function addBannedKeyword() {
	            try {
	                const keyword = document.getElementById('banned-keyword').value;
	                if (!keyword) {
	                    showNotification('è¯·è¾“å…¥ç¦è¨€è¯', 'error');
	                    return;
	                }
	                await insertRecord('banned_keywords', { keyword });
	                showNotification('ç¦è¨€è¯å·²æ·»åŠ ', 'success');
	                loadBanned();
	            } catch (error) {
	                showNotification(`æ·»åŠ å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åˆ é™¤ç¦è¨€è¯
	        async function deleteBannedKeyword(keywordId) {
	            if (!confirm('ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç¦è¨€è¯å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ’¤é”€ã€‚')) {
	                return;
	            }
	            try {
	                await deleteRecord('banned_keywords', keywordId);
	                showNotification('ç¦è¨€è¯å·²åˆ é™¤', 'success');
	                refreshBanned();
	            } catch (error) {
	                showNotification(`åˆ é™¤å¤±è´¥: ${error.message}`, 'error');
	            }
	        }
	        // åˆå§‹åŒ–åº”ç”¨
	        function initApp() {
	            // æ£€æŸ¥æ˜¯å¦å·²ç™»å½•
	            const apiKey = localStorage.getItem('adminApiKey');
	            if (apiKey) {
	                // éšè—ç™»å½•æ¨¡æ€æ¡†
	                document.getElementById('login-modal').style.display = 'none';
	                // åŠ è½½ä»ªè¡¨ç›˜
	                navigateToPage('dashboard');
	            } else {
	                // æ˜¾ç¤ºç™»å½•æ¨¡æ€æ¡†
	                document.getElementById('login-modal').style.display = 'flex';
	            }
	        }
	        // å¯¼èˆªåˆ°é¡µé¢
	        function navigateToPage(page) {
	            // æ›´æ–°æ´»åŠ¨èœå•é¡¹
	            document.querySelectorAll('.nav-item').forEach(item => {
	                item.classList.remove('active');
	            });
	            document.querySelector(`.nav-item[data-page="${page}"]`).classList.add('active');
	            // æ›´æ–°é¡µé¢æ ‡é¢˜
	            const titles = {
	                'dashboard': 'ä»ªè¡¨ç›˜',
	                'users': 'ç”¨æˆ·ç®¡ç†',
	                'teachers': 'è€å¸ˆç®¡ç†',
	                'keywords': 'å…³é”®è¯ç®¡ç†',
	                'banned': 'ç¦è¨€è¯ç®¡ç†'
	            };
	            document.getElementById('page-title').textContent = titles[page] || 'æœªçŸ¥é¡µé¢';
	            // åŠ è½½é¡µé¢å†…å®¹
	            const content = document.getElementById('content');
	            content.innerHTML = '<div class="loading"><div class="spinner"></div><p>åŠ è½½ä¸­...</p></div>';
	            // æ ¹æ®é¡µé¢åŠ è½½ç›¸åº”å†…å®¹
	            switch(page) {
	                case 'dashboard':
	                    loadDashboard();
	                    break;
	                case 'users':
	                    loadUsers();
	                    break;
	                case 'teachers':
	                    loadTeachers();
	                    break;
	                case 'keywords':
	                    loadKeywords();
	                    break;
	                case 'banned':
	                    loadBanned();
	                    break;
	                default:
	                    content.innerHTML = '<div class="error">é¡µé¢ä¸å­˜åœ¨</div>';
	            }
	        }
	        // æ˜¾ç¤ºé€šçŸ¥
	        function showNotification(message, type = 'info') {
	            const container = document.getElementById('notification-container');
	            const notification = document.createElement('div');
	            notification.className = `notification notification-${type}`;
	            notification.innerHTML = `
	                <div class="notification-content">
	                    <div class="notification-message">${message}</div>
	                    <button class="notification-close">&times;</button>
	                </div>
	            `;
	            container.appendChild(notification);
	            // å…³é—­æŒ‰é’®äº‹ä»¶
	            notification.querySelector('.notification-close').addEventListener('click', function() {
	                notification.classList.add('fade-out');
	                setTimeout(() => {
	                    container.removeChild(notification);
	                }, 300);
	            });
	            // è‡ªåŠ¨å…³é—­
	            setTimeout(() => {
	                if (notification.parentNode) {
	                    notification.classList.add('fade-out');
	                    setTimeout(() => {
	                        if (notification.parentNode) {
	                            container.removeChild(notification);
	                        }
	                    }, 300);
	                }
	            }, 5000);
	        }
	        document.addEventListener('DOMContentLoaded', function() {
	            // åˆå§‹åŒ–åº”ç”¨
	            initApp();
	            // å¯¼èˆªèœå•ç‚¹å‡»äº‹ä»¶
	            document.querySelectorAll('.nav-item').forEach(item => {
	                item.addEventListener('click', function(e) {
	                    e.preventDefault();
	                    const page = this.getAttribute('data-page');
	                    if (page) {
	                        navigateToPage(page);
	                    }
	                });
	            });
	            // ç™»å½•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
	            document.getElementById('login-btn').addEventListener('click', login);
	            // é€€å‡ºç™»å½•æŒ‰é’®ç‚¹å‡»äº‹ä»¶
	            document.getElementById('logout-btn').addEventListener('click', logout);
	        });
	    </script>
	</body>
	</html>
